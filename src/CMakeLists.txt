cmake_minimum_required(VERSION 2.8)
project(main_object-detection)

# The version number.
set (main_object-detection_VERSION_MAJOR 1)
set (main_object-detection_VERSION_MINOR 0)

# add the binary tree to the search path for include files
# so that we will find TutorialConfig.h
include_directories("${PROJECT_BINARY_DIR}")
include_directories("${PROJECT_SOURCE_DIR}")


set(CMAKE_BINARY_DIR ${CMAKE_SOURCE_DIR}/bin)
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR})
set(LIBRARY_OUTPUT_PATH ${CMAKE_SOURCE_DIR}/lib)


#delete generated files in make clean
SET_DIRECTORY_PROPERTIES (
   PROPERTIES
     ADDITIONAL_MAKE_CLEAN_FILES ${PROJECT_BINARY_DIR}/*
     ADDITIONAL_MAKE_CLEAN_FILES ${PROJECT_BINARY_DIR}/bin/*
     ADDITIONAL_MAKE_CLEAN_FILES ${EXECUTABLE_OUTPUT_PATH}/*
)


# openCV library
set(OpenCV_DIR "$ENV{HOME}/local/share/OpenCV"
           CACHE PATH "The path where OpenCVConfig.cmake is placed")
FIND_PACKAGE( OpenCV REQUIRED )

# add the executable
ADD_EXECUTABLE( dnn_example opencv_dnn.cpp )
TARGET_LINK_LIBRARIES( dnn_example ${OpenCV_LIBS} )
set_property(TARGET dnn_example PROPERTY RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/../../bin)

ADD_EXECUTABLE( selective selective.cpp )
TARGET_LINK_LIBRARIES( selective ${OpenCV_LIBS} )
set_property(TARGET selective PROPERTY RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/../../bin)

ADD_EXECUTABLE( objdet objdet.cpp )
TARGET_LINK_LIBRARIES( objdet ${OpenCV_LIBS} )
set_property(TARGET objdet PROPERTY RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/../../bin)


INSTALL(
   FILES ${PROJECT_BINARY_DIR}/bin/obj_detection DESTINATION ${EXECUTABLE_OUTPUT_PATH}
   PERMISSIONS OWNER_READ GROUP_READ WORLD_READ OWNER_EXECUTE GROUP_EXECUTE WORLD_EXECUTE
   )

INSTALL(
   FILES ${PROJECT_BINARY_DIR}/bin/selective DESTINATION ${EXECUTABLE_OUTPUT_PATH}
   PERMISSIONS OWNER_READ GROUP_READ WORLD_READ OWNER_EXECUTE GROUP_EXECUTE WORLD_EXECUTE
)

INSTALL(
   FILES ${PROJECT_BINARY_DIR}/bin/objdet DESTINATION ${EXECUTABLE_OUTPUT_PATH}
   PERMISSIONS OWNER_READ GROUP_READ WORLD_READ OWNER_EXECUTE GROUP_EXECUTE WORLD_EXECUTE
)

